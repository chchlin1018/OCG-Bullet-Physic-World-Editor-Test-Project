# Physics Scene Editor Qt ç‰ˆæœ¬

é€™æ˜¯ Physics Scene Editor çš„ Qt è·¨å¹³å°ç‰ˆæœ¬ï¼Œæä¾›èˆ‡ Windows MFC ç‰ˆæœ¬ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ”¯æ´ Windowsã€macOS å’Œ Linux å¹³å°ã€‚

## ä¸»è¦ç‰¹è‰²

### ğŸŒ çœŸæ­£çš„è·¨å¹³å°æ”¯æ´
- **Windows**ï¼šå®Œæ•´æ”¯æ´ Windows 10/11
- **macOS**ï¼šåŸç”Ÿ macOS æ‡‰ç”¨ç¨‹å¼
- **Linux**ï¼šæ”¯æ´ä¸»è¦ Linux ç™¼è¡Œç‰ˆ

### ğŸ¯ åŠŸèƒ½å°ç­‰æ€§
- èˆ‡ MFC ç‰ˆæœ¬åŠŸèƒ½å®Œå…¨å°ç­‰
- ç›¸åŒçš„å ´æ™¯æ ¼å¼ç›¸å®¹æ€§
- çµ±ä¸€çš„ä½¿ç”¨è€…é«”é©—

### ğŸ› ï¸ ç¾ä»£åŒ–ç•Œé¢
- åŸºæ–¼ Qt6 çš„ç¾ä»£åŒ–ç•Œé¢
- éŸ¿æ‡‰å¼è¨­è¨ˆ
- æ”¯æ´é«˜ DPI é¡¯ç¤ºå™¨
- å¯å®¢è£½åŒ–çš„å·¥ä½œå€ä½ˆå±€

### âš¡ é«˜æ•ˆèƒ½æ¸²æŸ“
- åŸºæ–¼ OpenGL çš„ç¡¬é«”åŠ é€Ÿæ¸²æŸ“
- å³æ™‚ç‰©ç†æ¨¡æ“¬é è¦½
- å¤šåŸ·è¡Œç·’æ¸²æŸ“ç®¡é“

## ç³»çµ±éœ€æ±‚

### é€šç”¨éœ€æ±‚
- **è¨˜æ†¶é«”**ï¼šæœ€å°‘ 4GB RAMï¼Œå»ºè­° 8GB
- **é¡¯ç¤ºå¡**ï¼šæ”¯æ´ OpenGL 3.3 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ç¡¬ç¢Ÿç©ºé–“**ï¼šæœ€å°‘ 2GB å¯ç”¨ç©ºé–“

### Windows
- Windows 10 æˆ–æ›´é«˜ç‰ˆæœ¬ (64-bit)
- Visual C++ Redistributable 2019 æˆ–æ›´é«˜ç‰ˆæœ¬

### macOS
- macOS 10.15 (Catalina) æˆ–æ›´é«˜ç‰ˆæœ¬
- æ”¯æ´ Intel å’Œ Apple Silicon (M1/M2) è™•ç†å™¨

### Linux
- ç¾ä»£ Linux ç™¼è¡Œç‰ˆ (Ubuntu 20.04+, Fedora 34+, ç­‰)
- X11 æˆ– Wayland é¡¯ç¤ºä¼ºæœå™¨
- ç›¸é—œåœ–å½¢é©…å‹•ç¨‹å¼

## å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´

#### Ubuntu/Debian
```bash
sudo apt update
sudo apt install qt6-base-dev qt6-tools-dev libqt6opengl6-dev \
                 libgl1-mesa-dev libglfw3-dev libglew-dev libglm-dev \
                 libbullet-dev libeigen3-dev nlohmann-json3-dev
```

#### macOS (ä½¿ç”¨ Homebrew)
```bash
brew install qt6 glfw glew glm bullet eigen nlohmann-json
```

#### Windows (ä½¿ç”¨ vcpkg)
```cmd
vcpkg install qt6:x64-windows glfw3:x64-windows glew:x64-windows ^
              glm:x64-windows bullet3:x64-windows eigen3:x64-windows ^
              nlohmann-json:x64-windows
```

### 2. å»ºæ§‹å°ˆæ¡ˆ

#### ä½¿ç”¨å»ºæ§‹è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
```bash
# å®‰è£ä¾è³´ä¸¦å»ºæ§‹
./build_qt.sh -d

# åƒ…å»ºæ§‹
./build_qt.sh

# å»ºæ§‹ä¸¦åŸ·è¡Œæ¸¬è©¦
./build_qt.sh -t

# å»ºç«‹å®‰è£åŒ…
./build_qt.sh -p
```

#### æ‰‹å‹•å»ºæ§‹
```bash
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
cmake --build . --parallel
```

### 3. åŸ·è¡Œç·¨è¼¯å™¨

```bash
# Linux/macOS
./build/PhysicsSceneEditorQt

# Windows
.\build\Release\PhysicsSceneEditorQt.exe
```

## ä¸»è¦åŠŸèƒ½

### å ´æ™¯ç·¨è¼¯
- **è¦–è¦ºåŒ–ç·¨è¼¯**ï¼šæ‹–æ‹½å¼ç‰©ä»¶æ”¾ç½®å’Œç·¨è¼¯
- **å ´æ™¯æ¨¹ç‹€æª¢è¦–**ï¼šéšå±¤å¼å ´æ™¯ç®¡ç†
- **å±¬æ€§ç·¨è¼¯å™¨**ï¼šå³æ™‚å±¬æ€§ç·¨è¼¯å’Œé©—è­‰
- **æè³ªç·¨è¼¯å™¨**ï¼šå®Œæ•´çš„ç‰©ç†å’Œè¦–è¦ºæè³ªç®¡ç†

### 3D è¦–å£
- **å¤šç¨®æª¢è¦–æ¨¡å¼**ï¼šå¯¦é«”ã€ç·šæ¡†ã€é™¤éŒ¯æ¨¡å¼
- **è®Šæ›å·¥å…·**ï¼šç§»å‹•ã€æ—‹è½‰ã€ç¸®æ”¾æ“ä½œå™¨
- **ç›¸æ©Ÿæ§åˆ¶**ï¼šè»Œé“ã€å¹³ç§»ã€ç¸®æ”¾æ“ä½œ
- **å³æ™‚é è¦½**ï¼šç‰©ç†æ¨¡æ“¬å³æ™‚é è¦½

### ç‰©ç†æ¨¡æ“¬
- **OGC æ•´åˆ**ï¼šæœ€æ–°çš„ Offset Geometric Contact æ¨¡å‹
- **Bullet Physics**ï¼šæˆç†Ÿçš„ç‰©ç†å¼•æ“æ”¯æ´
- **æ··åˆæ¨¡å¼**ï¼šæ™ºæ…§çš„æ¼”ç®—æ³•åˆ‡æ›
- **CUDA åŠ é€Ÿ**ï¼šGPU ä¸¦è¡Œè¨ˆç®—æ”¯æ´

### æª”æ¡ˆæ ¼å¼
- **æ¨™æº– .pscene æ ¼å¼**ï¼šèˆ‡å…¶ä»–ç‰ˆæœ¬å®Œå…¨ç›¸å®¹
- **FBX åŒ¯å…¥**ï¼šæ”¯æ´è¤‡é›œ 3D æ¨¡å‹åŒ¯å…¥
- **å¤šç¨®åŒ¯å‡ºæ ¼å¼**ï¼šæ”¯æ´å¤šç¨®æ¨™æº–æ ¼å¼åŒ¯å‡º

## ç•Œé¢ä»‹ç´¹

### ä¸»è¦–çª—ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¸å–®åˆ—                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¥å…·åˆ—                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                             â”‚               â”‚
â”‚ å ´æ™¯æ¨¹ç‹€  â”‚        3D è¦–å£              â”‚   å±¬æ€§ç·¨è¼¯å™¨  â”‚
â”‚ æª¢è¦–      â”‚                             â”‚               â”‚
â”‚           â”‚                             â”‚               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                             â”‚               â”‚
â”‚ å·¥å…·ç®±    â”‚        è¼¸å‡ºè¦–çª—             â”‚   æè³ªç·¨è¼¯å™¨  â”‚
â”‚           â”‚                             â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å ´æ™¯æ¨¹ç‹€æª¢è¦–
- é¡¯ç¤ºå ´æ™¯ä¸­æ‰€æœ‰ç‰©ä»¶çš„éšå±¤çµæ§‹
- æ”¯æ´æ‹–æ‹½é‡æ–°æ’åºå’Œåˆ†çµ„
- å³éµé¸å–®æä¾›å¿«é€Ÿæ“ä½œ
- æœå°‹å’Œç¯©é¸åŠŸèƒ½

### å±¬æ€§ç·¨è¼¯å™¨
- æ ¹æ“šé¸ä¸­ç‰©ä»¶å‹•æ…‹é¡¯ç¤ºå±¬æ€§
- æ”¯æ´å¤šç¨®è³‡æ–™é¡å‹ç·¨è¼¯
- å³æ™‚é©—è­‰å’ŒéŒ¯èª¤æç¤º
- é è¨­å€¼å’Œé è¨­çµ„åˆ

### 3D è¦–å£
- ç¡¬é«”åŠ é€Ÿçš„ OpenGL æ¸²æŸ“
- å¤šç¨®æª¢è¦–å’ŒæŠ•å½±æ¨¡å¼
- ç›´è§€çš„è®Šæ›æ“ä½œå™¨
- è±å¯Œçš„è¦–è¦ºåŒ–é¸é …

### æè³ªç·¨è¼¯å™¨
- ç‰©ç†æè³ªå±¬æ€§ç·¨è¼¯
- è¦–è¦ºæè³ªå’Œç´‹ç†ç®¡ç†
- å³æ™‚é è¦½æ•ˆæœ
- æè³ªåº«ç®¡ç†

## é€²éšåŠŸèƒ½

### è‡ªè¨‚å·¥ä½œå€
```cpp
// å„²å­˜ç•¶å‰ä½ˆå±€
mainWindow->SaveLayout();

// æ¢å¾©é è¨­ä½ˆå±€
mainWindow->ResetLayout();

// é¡¯ç¤º/éš±è—åœé è¦–çª—
mainWindow->ShowDockWidget("SceneTree", true);
```

### å¤–æ›ç³»çµ±
Qt ç‰ˆæœ¬æ”¯æ´å¤–æ›æ“´å±•ï¼š

```cpp
// è¼‰å…¥å¤–æ›
PluginManager::LoadPlugin("MyCustomPlugin.dll");

// è¨»å†Šè‡ªè¨‚å·¥å…·
ToolManager::RegisterTool(new MyCustomTool());
```

### è…³æœ¬æ”¯æ´
æ”¯æ´ JavaScript è…³æœ¬è‡ªå‹•åŒ–ï¼š

```javascript
// å»ºç«‹æ–°å ´æ™¯
scene.clear();

// æ–°å¢ç‰©ä»¶
var box = scene.addRigidBody("box", {
    position: [0, 5, 0],
    shape: "box",
    size: [1, 1, 1]
});

// åŸ·è¡Œæ¨¡æ“¬
simulation.play();
```

## æ•ˆèƒ½æœ€ä½³åŒ–

### æ¸²æŸ“æœ€ä½³åŒ–
- **è¦–éŒå‰”é™¤**ï¼šåªæ¸²æŸ“å¯è¦‹ç‰©ä»¶
- **LOD ç³»çµ±**ï¼šæ ¹æ“šè·é›¢èª¿æ•´ç´°ç¯€å±¤æ¬¡
- **æ‰¹æ¬¡æ¸²æŸ“**ï¼šæ¸›å°‘ç¹ªè£½å‘¼å«æ¬¡æ•¸
- **å¤šåŸ·è¡Œç·’æ¸²æŸ“**ï¼šä¸¦è¡Œæ¸²æŸ“ç®¡é“

### ç‰©ç†æœ€ä½³åŒ–
- **ç©ºé–“åˆ†å‰²**ï¼šé«˜æ•ˆçš„ç¢°æ’æª¢æ¸¬
- **ç¡çœ æ©Ÿåˆ¶**ï¼šéœæ­¢ç‰©é«”æœ€ä½³åŒ–
- **é©æ‡‰æ€§æ™‚é–“æ­¥é•·**ï¼šå‹•æ…‹èª¿æ•´æ¨¡æ“¬ç²¾åº¦
- **GPU åŠ é€Ÿ**ï¼šCUDA ä¸¦è¡Œè¨ˆç®—

### è¨˜æ†¶é«”æœ€ä½³åŒ–
- **ç‰©ä»¶æ± **ï¼šæ¸›å°‘è¨˜æ†¶é«”åˆ†é…
- **ç´‹ç†å£“ç¸®**ï¼šé™ä½é¡¯å­˜ä½¿ç”¨
- **å¹¾ä½•é«”å…±äº«**ï¼šç›¸åŒå½¢ç‹€å…±äº«è³‡æ–™
- **æ™ºæ…§å¿«å–**ï¼šå¸¸ç”¨è³‡æ–™å¿«å–

## é–‹ç™¼æŒ‡å—

### å»ºç½®ç’°å¢ƒè¨­å®š

#### Qt Creator
1. é–‹å•Ÿ Qt Creator
2. é–‹å•Ÿå°ˆæ¡ˆæª”æ¡ˆ `CMakeLists.txt`
3. é¸æ“‡é©ç•¶çš„ Kit
4. é…ç½®å»ºç½®è¨­å®š
5. å»ºç½®ä¸¦åŸ·è¡Œ

#### Visual Studio Code
1. å®‰è£ CMake Tools æ“´å±•
2. é–‹å•Ÿå°ˆæ¡ˆè³‡æ–™å¤¾
3. é…ç½® CMake è¨­å®š
4. ä½¿ç”¨ Ctrl+Shift+P åŸ·è¡Œ CMake å‘½ä»¤

#### CLion
1. é–‹å•Ÿå°ˆæ¡ˆè³‡æ–™å¤¾
2. CLion æœƒè‡ªå‹•æª¢æ¸¬ CMake å°ˆæ¡ˆ
3. é…ç½®å·¥å…·éˆå’Œå»ºç½®é¡å‹
4. å»ºç½®ä¸¦åŸ·è¡Œ

### é™¤éŒ¯æŠ€å·§

#### å•Ÿç”¨é™¤éŒ¯è¼¸å‡º
```bash
export QT_LOGGING_RULES="*.debug=true"
./PhysicsSceneEditorQt --debug
```

#### ä½¿ç”¨ Qt Creator é™¤éŒ¯å™¨
1. è¨­å®šä¸­æ–·é»
2. å•Ÿå‹•é™¤éŒ¯æ¨¡å¼
3. ä½¿ç”¨è®Šæ•¸æª¢è¦–å™¨
4. åˆ†æå‘¼å«å †ç–Š

#### æ•ˆèƒ½åˆ†æ
```bash
# ä½¿ç”¨ perf (Linux)
perf record ./PhysicsSceneEditorQt
perf report

# ä½¿ç”¨ Instruments (macOS)
instruments -t "Time Profiler" ./PhysicsSceneEditorQt

# ä½¿ç”¨ Visual Studio Profiler (Windows)
```

## è‡ªè¨‚å’Œæ“´å±•

### æ–°å¢è‡ªè¨‚ Widget
```cpp
class MyCustomWidget : public QWidget
{
    Q_OBJECT

public:
    MyCustomWidget(QWidget* parent = nullptr);
    
    // å¯¦ç¾è‡ªè¨‚åŠŸèƒ½
    void SetData(const MyData& data);
    
signals:
    void DataChanged(const MyData& data);
};

// è¨»å†Šåˆ°ä¸»è¦–çª—
mainWindow->AddCustomWidget(new MyCustomWidget());
```

### æ–°å¢è‡ªè¨‚å·¥å…·
```cpp
class MyCustomTool : public Tool
{
public:
    QString GetName() const override { return "My Tool"; }
    QIcon GetIcon() const override { return QIcon(":/icons/mytool.png"); }
    
    void Activate() override;
    void Deactivate() override;
    void HandleMouseEvent(QMouseEvent* event) override;
};
```

### æ–°å¢è‡ªè¨‚æ¸²æŸ“å™¨
```cpp
class MyCustomRenderer : public Renderer
{
public:
    void Initialize() override;
    void Render(const Scene& scene) override;
    void Cleanup() override;
};
```

## ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

**Q: ç·¨è¼¯å™¨ç„¡æ³•å•Ÿå‹•**
A: æª¢æŸ¥ä»¥ä¸‹é …ç›®ï¼š
- Qt6 æ˜¯å¦æ­£ç¢ºå®‰è£
- OpenGL é©…å‹•ç¨‹å¼æ˜¯å¦æœ€æ–°
- ç›¸é—œå‹•æ…‹å‡½å¼åº«æ˜¯å¦å¯æ‰¾åˆ°

**Q: 3D è¦–å£é¡¯ç¤ºé»‘å±**
A: å¯èƒ½çš„åŸå› ï¼š
- OpenGL ç‰ˆæœ¬ä¸æ”¯æ´ï¼ˆéœ€è¦ 3.3+ï¼‰
- é¡¯ç¤ºå¡é©…å‹•ç¨‹å¼å•é¡Œ
- è‘—è‰²å™¨ç·¨è­¯å¤±æ•—

**Q: ç‰©ç†æ¨¡æ“¬æ•ˆèƒ½ä¸ä½³**
A: æœ€ä½³åŒ–å»ºè­°ï¼š
- æ¸›å°‘ç‰©ä»¶æ•¸é‡
- ä½¿ç”¨ç°¡å–®ç¢°æ’å½¢ç‹€
- å•Ÿç”¨ç‰©é«”ç¡çœ 
- ä½¿ç”¨ CUDA åŠ é€Ÿ

**Q: å ´æ™¯æª”æ¡ˆç„¡æ³•è¼‰å…¥**
A: æª¢æŸ¥é …ç›®ï¼š
- æª”æ¡ˆæ ¼å¼æ˜¯å¦æ­£ç¢º
- æª”æ¡ˆæ˜¯å¦æå£
- ç‰ˆæœ¬ç›¸å®¹æ€§å•é¡Œ

### æ—¥èªŒå’Œé™¤éŒ¯

#### å•Ÿç”¨è©³ç´°æ—¥èªŒ
```bash
export QT_LOGGING_RULES="app.debug=true;physics.debug=true;renderer.debug=true"
```

#### æª¢è¦–ç³»çµ±è³‡è¨Š
```bash
./PhysicsSceneEditorQt --system-info
```

#### ç”¢ç”Ÿé™¤éŒ¯å ±å‘Š
```bash
./PhysicsSceneEditorQt --generate-debug-report
```

## è²¢ç»æŒ‡å—

### ç¨‹å¼ç¢¼é¢¨æ ¼
- éµå¾ª Qt ç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å—
- ä½¿ç”¨ clang-format æ ¼å¼åŒ–ç¨‹å¼ç¢¼
- æ·»åŠ é©ç•¶çš„è¨»è§£å’Œæ–‡ä»¶

### æäº¤æµç¨‹
1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯
3. å¯¦ç¾åŠŸèƒ½ä¸¦æ¸¬è©¦
4. æäº¤ Pull Request
5. ç¨‹å¼ç¢¼å¯©æŸ¥å’Œåˆä½µ

### æ¸¬è©¦
- ç·¨å¯«å–®å…ƒæ¸¬è©¦
- åŸ·è¡Œæ•´åˆæ¸¬è©¦
- æ•ˆèƒ½åŸºæº–æ¸¬è©¦
- è·¨å¹³å°æ¸¬è©¦

## æˆæ¬Šå’Œè‡´è¬

### æˆæ¬Šæ¢æ¬¾
æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ï¼Œè©³è¦‹ [LICENSE](../LICENSE) æª”æ¡ˆã€‚

### è‡´è¬
- **Qt ç¤¾ç¾¤**ï¼šå„ªç§€çš„è·¨å¹³å°æ‡‰ç”¨ç¨‹å¼æ¡†æ¶
- **OpenGL ç¤¾ç¾¤**ï¼šç¾ä»£åœ–å½¢æ¸²æŸ“æŠ€è¡“
- **æ‰€æœ‰è²¢ç»è€…**ï¼šæ„Ÿè¬æ¯ä¸€ä½ç‚ºå°ˆæ¡ˆåšå‡ºè²¢ç»çš„é–‹ç™¼è€…

## è¯çµ¡è³‡è¨Š

- **å°ˆæ¡ˆä¸»é **ï¼šhttps://github.com/physics-scene-editor/physics-scene-editor
- **å•é¡Œå›å ±**ï¼šhttps://github.com/physics-scene-editor/physics-scene-editor/issues
- **è¨è«–å€**ï¼šhttps://github.com/physics-scene-editor/physics-scene-editor/discussions
- **é›»å­éƒµä»¶**ï¼šqt-support@physics-scene-editor.com

---

**Physics Scene Editor Qt** - è·¨å¹³å°çš„å°ˆæ¥­ç‰©ç†å ´æ™¯ç·¨è¼¯å™¨

*ç‰ˆæœ¬ 1.0.0 | æ”¯æ´ Windowsã€macOSã€Linux*
